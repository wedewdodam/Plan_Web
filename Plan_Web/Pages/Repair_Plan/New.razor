@page "/Repair_Plan/New/"
@using Microsoft.AspNetCore.ProtectedBrowserStorage
@inject ProtectedSessionStorage ProtectedSessionStore



<table width="100%" style="margin-bottom: 10px">
    <tr>
        <td style="width: 15%"> <button class="btn btn-success btn-block" @onclick="OnPlanUrl"><img src="/images/sub/icon_step01_on.png" height="25" alt="" /> <span style="font-weight: bold"> 수선계획 총론 수립</span></button></td>
        <td class="text-center"> <img src="/images/sub/icon_arrow.png" height="30" alt="" /> </td>
        <td style="width: 15%"> <button class="btn btn-success btn-block" @onclick="OnArticleUrl"><img src="/images/sub/icon_step02_on.png" height="25" alt="" /> <span style="font-weight: bold"> 수선항목 수립</span></button></td>
        <td class="text-center"> <img src="/images/sub/icon_arrow.png" height="30" alt="" /> </td>
        <td style="width: 15%"> <button class="btn btn-success btn-block" @onclick="OnCycleUrl"><img src="/images/sub/icon_step03_on.png" height="25" alt="" /> <span style="font-weight: bold"> 수선주기 수립</span></button></td>
        <td class="text-center"> <img src="/images/sub/icon_arrow.png" height="30" alt="" /> </td>
        <td style="width: 15%"> <button class="btn btn-success btn-block" @onclick="OnCostUrl"><img src="/images/sub/icon_step03_on.png" height="25" alt="" /> <span style="font-weight: bold"> 수선금액 수립</span></button></td>
        <td class="text-center"> <img src="/images/sub/icon_arrow.png" height="30" alt="" /> </td>
        <td style="width: 15%"> <button class="btn btn-success btn-block" @onclick="OnCompleteUrl"><img src="/images/sub/icon_step04_on.png" height="25" alt="" /> <span style="font-weight: bold"> 수립완료</span></button></td>
    </tr>
</table>
<div class="card">
    <div class="card-header">
        <table width="100%">
            <tr>
                <td>
                    <span style="font-size: 1em"> <span class="bi-house-fill"></span>&nbsp;<span>장기수선계획 총론 수립 <span class="bi"> </span></span></span>
                </td>
                <td>
                </td>
                <td align="right">
                    @if (intCode > 0)
                    {
                        <button type="button" class="btn btn-warning btn-sm" @onclick="() => btnEdit(rpn)"><span class="bi-tools"> 장기수선계획 수정</span></button>
                    }
                    else
                    {
                        <button type="button" class="btn btn-primary btn-sm" @onclick="btnOpen"><span class="bi-tools"> 장기수선계획 등록</span></button>
                    }
                </td>
            </tr>
        </table>
    </div>
    <div class="card-body">
        <span style="font-size: 1em; font-weight: bold"><img src="/images/sub/board_tit_bullet.png" alt="" /> 총론 상세 정보</span>

        <table class="table" style="font-size: 0.9em">

            <tr style="background-color:gainsboro; border-top-color:black; border-top-width: 2px; border-top-style:solid">
                <th class="text-center">
                    최초 수립일
                </th>
                <th class="text-center">
                    수립주체
                </th>
                <th class="text-center">
                    사용 검사일
                </th>
                <th class="text-center">
                    조정일자
                </th>
                <th class="text-center">
                    계획기간
                </th>
                <th class="text-center">
                    수선비 총액
                </th>
            </tr>
            <tr>
                <td class="text-center">
                    @rpn.Founding_Date.ToShortDateString()
                </td>
                <td class="text-center">
                    @rpn.Founding_man
                </td>
                <td class="text-center">
                    @rpn.Founding_Date.ToShortDateString()
                </td>
                <td class="text-center">
                    @rpn.Adjustment_Date.ToShortDateString()
                </td>
                <td class="text-center">
                    @rpn.Plan_Period<span>년</span>
                </td>
                <td class="text-center">
                    @string.Format("{0: ###,###.#}", upn.plan_total_sum)<span>원</span>
                </td>
            </tr>
            <tr style="background-color:gainsboro;">
                <th class="text-center">
                    조정구분
                </th>
                <th class="text-center">
                    차수
                </th>
                <th class="text-center">
                    수립자/조정자
                </th>
                <th class="text-center">
                    검토일자
                </th>
                <th class="text-center">
                    소액지출범위
                </th>
                <th class="text-center">
                    충당금 총액
                </th>
            </tr>
            <tr style="border-bottom-color:black; border-bottom-width: 1px; border-bottom-style:solid">
                <td class="text-center">
                    @rpn.Adjustment_Division
                </td>
                <td class="text-center">
                    @rpn.Adjustment_Num<span>차</span>
                </td>
                <td class="text-center">
                    @rpn.Adjustment_Man
                </td>
                <td class="text-center">
                    @rpn.Plan_Review_Date.ToShortDateString()
                </td>
                <td class="text-center">
                    @rpn.SmallSum_Unit  @string.Format("{0: ###,###.#}", rpn.Small_Sum)<span>원</span>
                </td>

                <td class="text-center">
                    @string.Format("{0: ###,###.#}", upsn.balance_sum)<span>원</span>
                </td>
            </tr>
        </table>
        <table class="table" style="font-size: 0.9em">
            <tr style="border-top-color:black; border-top-width: 2px; border-top-style:solid">
                <td style="vertical-align: middle" width="120">
                    <span style="font-weight:bold">긴급지출 근거</span>
                </td>
                <td>
                    @rpn.Emergency_Basis
                </td>
            </tr>
            <tr>
                <td style="vertical-align: middle" width="120">
                    <span style="font-weight:bold">소액지출 근거</span>
                </td>
                <td>
                    @rpn.Emergency_Basis
                </td>
            </tr>
            <tr style="border-bottom-color:black; border-bottom-width: 1px; border-bottom-style:solid">
                <td style="vertical-align: middle" width="120">
                    <span style="font-weight:bold">비 고</span>
                </td>
                <td style="vertical-align: middle">
                    @if (rpn.Repair_Plan_Etc == "" || rpn.Repair_Plan_Etc == null)
                    {
                        <span>기재 안함.</span>
                    }
                    else
                    {
                        @rpn.Repair_Plan_Etc
                    }
                </td>
            </tr>
        </table>


        <table class="table table-sm" style="width: 100%; margin-bottom: 0px">
            <tr>
                <td style="width: 200px; background-color: floralwhite; vertical-align: middle" rowspan="2">
                    <span style="font-size: 1em; font-weight: bold"><img src="/images/sub/board_tit_bullet.png" alt="" /> 소액지출 요건 목록</span>
                </td>
                <td class="text-right">
                    <button @onclick="OnSmallSum_Requirement_Insert" class="btn btn-primary btn-sm"><span class="bi-box-arrow-in-right"> &nbsp; 소액지출 요건 새로 등록</span></button>
                </td>
            </tr>
            <tr>
                <td>
                    <table class="table" style="font-size: 0.9em; margin-bottom: 0px">
                        <thead>
                            <tr style="border-top-color:black; border-top-width: 2px; border-top-style:solid; background-color: gainsboro">
                                <th style="vertical-align: middle" class="text-center">
                                    소액지출 요건 내용
                                </th>
                                <th class="text-center" width="120">
                                    버 튼
                                </th>
                            </tr>
                        </thead>

                        <tbody>
                            @foreach (var st in srse)
                            {
                                <tr>
                                    <td style="vertical-align: middle">
                                        @st.SmallSum_Requirement_Content
                                    </td>
                                    <td class="text-center">
                                        <button @onclick="() => OnByEditA(st)" class="btn btn-link btn-sm">수정</button> <button @onclick="() => OnRemoveA(st.Aid)" class="btn btn-link btn-sm">삭제</button>
                                    </td>
                                </tr>
                            }
                        </tbody>
                    </table>
                </td>
            </tr>
            <tr>
                <td style="width: 200px; background-color: floralwhite; vertical-align: middle" rowspan="2">
                    <span style="font-size: 1em; font-weight: bold"><img src="/images/sub/board_tit_bullet.png" alt="" /> 소액지출 대상 목록</span>
                </td>
                <td class="text-right">
                    <button @onclick="OnSmallSum_Object_Insert" class="btn btn-primary btn-sm"><span class="bi-box-arrow-in-right"> &nbsp; 소액지출 대상 새로 등록</span></button>
                </td>
            </tr>
            <tr>
                <td>
                    <table class="table table-sm" style="font-size: 0.9em; margin-bottom: 0px">
                        <thead>
                            <tr style="border-top-color: black; border-top-width: 2px; border-top-style: solid; background-color: gainsboro">
                                <th style="vertical-align: middle" class="text-center">
                                    소액지출 대상 내용
                                </th>
                                <th class="text-center" width="120">
                                    버 튼
                                </th>
                            </tr>
                        </thead>

                        <tbody>
                            @foreach (var st in sose)
                            {
                                <tr>
                                    <td style="vertical-align: middle">
                                        @st.SmallSum_Object_Content
                                    </td>
                                    <td class="text-center">
                                        <button @onclick="() => OnByEditB(st)" class="btn btn-link btn-sm">수정</button>
                                        <button @onclick="() => OnRemoveB(st.Aid)" class="btn btn-link btn-sm">삭제</button>
                                    </td>
                                </tr>
                            }
                        </tbody>
                    </table>
                </td>
            </tr>
        </table>
    </div>
</div>
<br />

@if (InsertViews == "B")
{
    <div class="modal fade show d-block" tabindex="-1" role="dialog">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header" style="background-color: cornflowerblue; color: white">
                    <h5 class="modal-title"><span class="bi-house-door"></span>&nbsp;@strTitle</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close" @onclick="btnClose">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body" style="height: 700px; overflow-x: no-display; overflow-y: scroll">

                    @if (NewOpen == "A")
                    {
                        <table class="table" width="100%">
                            <tr>
                                <td>
                                    <div class="input-group">
                                        <div class="input-group-prepend"><span class="input-group-text" style="font-size: 0.9em"><span class="bi-pencil-square"></span>&nbsp;조정차수</span></div>
                                        <select id="Sort_A_Code" class="custom-select" style="font-size: 0.9em" @bind="@rpn.Adjustment_Num" required>
                                            <option value="0">=차수선택=</option>
                                            <option value="1">1</option>
                                            <option value="2">2</option>
                                            <option value="3">3</option>
                                            <option value="4">4</option>
                                            <option value="5">5</option>
                                            <option value="6">6</option>
                                            <option value="7">7</option>
                                            <option value="8">8</option>
                                            <option value="9">9</option>
                                            <option value="10">10</option>
                                            <option value="11">11</option>
                                            <option value="12">12</option>
                                            <option value="13">13</option>
                                            <option value="14">14</option>
                                            <option value="15">15</option>
                                            <option value="16">16</option>
                                            <option value="17">17</option>
                                            <option value="18">18</option>
                                            <option value="19">19</option>
                                            <option value="20">20</option>
                                            <option value="21">21</option>
                                            <option value="22">22</option>
                                            <option value="23">23</option>
                                            <option value="24">24</option>
                                            <option value="25">25</option>
                                            <option value="26">26</option>
                                            <option value="27">27</option>
                                            <option value="28">28</option>
                                            <option value="29">29</option>
                                            <option value="30">30</option>
                                        </select>
                                    </div>
                                </td>
                                <td>
                                    <div class="input-group">
                                        <div class="input-group-prepend"><span class="input-group-text" style="font-size: 0.9em"><span class="bi-pencil-square"></span>&nbsp;수립주체</span></div>
                                        <input id="Founding_man" name="Facility_Name" style="font-size: 0.9em" @bind="rpn.Founding_man" class="form-control" placeholder="수립주체 입력해 주세요." type="text" />
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="input-group">
                                        <div class="input-group-prepend"><span class="input-group-text" style="font-size: 0.9em"><span class="bi-pencil-square"></span>&nbsp;검토일</span></div>
                                        <input id="Plan_Review_Date" name="Plan_Review_Date" style="font-size: 0.9em" @bind="rpn.Plan_Review_Date" class="form-control" placeholder="검토일을 입력해 주세요." type="date" />
                                    </div>
                                </td>
                                <td>
                                    <div class="input-group">
                                        <div class="input-group-prepend"><span class="input-group-text" style="font-size: 0.9em"><span class="bi-pencil-square"></span>&nbsp;사용검사일</span></div>
                                        <input id="Founding_Date" name="Founding_Date" style="font-size: 0.9em" @bind="rpn.Founding_Date" class="form-control" placeholder="사업 검사일을 입력해 주세요." type="date" />
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="input-group">
                                        <div class="input-group-prepend"><span class="input-group-text" style="font-size: 0.9em"><span class="bi-pencil-square"></span>&nbsp;수립/조정일</span></div>
                                        <input id="Adjustment_Date" name="Adjustment_Date" style="font-size: 0.9em" @bind="rpn.Adjustment_Date" class="form-control" placeholder="수립 혹은 조정일을 입력해 주세요." type="date" />
                                    </div>
                                </td>
                                <td>
                                    <div class="input-group">
                                        <div class="input-group-prepend"><span class="input-group-text" style="font-size: 0.9em"><span class="bi-pencil-square"></span>&nbsp;수립/조정구분</span></div>
                                        <select id="Sort_A_Code" class="custom-select" style="font-size: 0.9em" @bind="@rpn.Adjustment_Division" required>
                                            <option value="Z">=구분선택=</option>
                                            <option value="최초수립">최초수립</option>
                                            <option value="최초입력">최초입력</option>
                                            <option value="정기조정">정기조정</option>
                                            <option value="수시조정">수시조정</option>
                                        </select>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="input-group">
                                        <div class="input-group-prepend"><span class="input-group-text" style="font-size: 0.9em"><span class="bi-pencil-square"></span>&nbsp;소액지출 기준</span></div>
                                        <select id="SmallSum_Unit" class="custom-select" style="font-size: 0.9em" @bind="@rpn.SmallSum_Unit" required>
                                            <option value="Z">=소액기준선택=</option>
                                            <option value="년간">년간</option>
                                            <option value="월간">월간</option>
                                            <option value="공사금액">공사금액</option>
                                            <option value="소액없음">소액없음</option>
                                        </select>
                                    </div>
                                </td>
                                <td>
                                    <div class="input-group">
                                        <div class="input-group-prepend"><span class="input-group-text" style="font-size: 0.9em"><span class="bi-pencil-square"></span>&nbsp;소액범위(원)</span></div>
                                        <input id="Small_Sum" name="Small_Sum" style="font-size: 0.9em; text-align: right" value="@strSmall_Sum" @onchange="OnSmall_Sum" class="form-control" placeholder="소액지출 금액을 입력해 주세요." type="text" />
                                        <div class="input-group-append">
                                            <span class="input-group-text" style="font-size: 0.9em">원</span>
                                        </div>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td colspan="2" style="vertical-align: middle">
                                    <div class="input-group" style="vertical-align:middle">
                                        <div class="input-group-prepend"><span class="input-group-text" style="font-size: 0.9em"><span class="bi-pencil-square"></span>&nbsp;계획기간</span></div>
                                        <input id="BuildDate" type="text" class="form-control text-center" style="font-size: 0.9em; width: 100px" readonly="readonly" value="@BuildDate" />
                                        <select id="SmallSum_Unit" class="custom-select text-center" style="font-size: 0.9em; width: 100px" value="@strYearA" @onchange="OnPeriodYear" required>
                                            <option value="">=기간선택=</option>
                                            <option value="1981">1981</option>
                                            <option value="1982">1982</option>
                                            <option value="1983">1983</option>
                                            <option value="1984">1984</option>
                                            <option value="1985">1985</option>
                                            <option value="1986">1986</option>
                                            <option value="1987">1987</option>
                                            <option value="1988">1988</option>
                                            <option value="1989">1989</option>
                                            <option value="1990">1990</option>
                                            <option value="1991">1991</option>
                                            <option value="1992">1992</option>
                                            <option value="1993">1993</option>
                                            <option value="1994">1994</option>
                                            <option value="1995">1995</option>
                                            <option value="1996">1996</option>
                                            <option value="1997">1997</option>
                                            <option value="1998">1998</option>
                                            <option value="1999">1999</option>
                                            <option value="2000">2000</option>
                                            <option value="2001">2001</option>
                                            <option value="2002">2002</option>
                                            <option value="2003">2003</option>
                                            <option value="2004">2004</option>
                                            <option value="2005">2005</option>
                                            <option value="2006">2006</option>
                                            <option value="2007">2007</option>
                                            <option value="2008">2008</option>
                                            <option value="2009">2009</option>
                                            <option value="2010">2010</option>
                                            <option value="2011">2011</option>
                                            <option value="2012">2012</option>
                                            <option value="2013">2013</option>
                                            <option value="2014">2014</option>
                                            <option value="2015">2015</option>
                                            <option value="2016">2016</option>
                                            <option value="2017">2017</option>
                                            <option value="2018">2018</option>
                                            <option value="2019">2019</option>
                                            <option value="2020">2020</option>
                                            <option value="2021">2021</option>
                                            <option value="2022">2022</option>
                                            <option value="2023">2023</option>
                                            <option value="2024">2024</option>
                                            <option value="2025">2025</option>
                                            <option value="2026">2026</option>
                                            <option value="2027">2027</option>
                                            <option value="2028">2028</option>
                                            <option value="2029">2029</option>
                                            <option value="2030">2030</option>
                                            <option value="2031">2031</option>
                                            <option value="2032">2032</option>
                                            <option value="2033">2033</option>
                                            <option value="2034">2034</option>
                                            <option value="2035">2035</option>
                                            <option value="2036">2036</option>
                                            <option value="2037">2037</option>
                                            <option value="2038">2038</option>
                                            <option value="2039">2039</option>
                                            <option value="2040">2040</option>
                                            <option value="2041">2041</option>
                                            <option value="2042">2042</option>
                                            <option value="2043">2043</option>
                                            <option value="2044">2044</option>
                                            <option value="2045">2045</option>
                                            <option value="2046">2046</option>
                                            <option value="2047">2047</option>
                                            <option value="2048">2048</option>
                                            <option value="2049">2049</option>
                                            <option value="2050">2050</option>
                                            <option value="2051">2051</option>
                                            <option value="2052">2052</option>
                                            <option value="2053">2053</option>
                                            <option value="2054">2054</option>
                                            <option value="2055">2055</option>
                                            <option value="2056">2056</option>
                                            <option value="2057">2057</option>
                                            <option value="2058">2058</option>
                                            <option value="2059">2059</option>
                                            <option value="2060">2060</option>
                                            <option value="2061">2061</option>
                                            <option value="2062">2062</option>
                                            <option value="2063">2063</option>
                                            <option value="2064">2064</option>
                                            <option value="2065">2065</option>
                                            <option value="2066">2066</option>
                                            <option value="2067">2067</option>
                                            <option value="2068">2068</option>
                                            <option value="2069">2069</option>
                                            <option value="2070">2070</option>
                                            <option value="2071">2071</option>
                                            <option value="2072">2072</option>
                                            <option value="2073">2073</option>
                                            <option value="2074">2074</option>
                                            <option value="2075">2075</option>
                                            <option value="2076">2076</option>
                                            <option value="2077">2077</option>
                                            <option value="2078">2078</option>
                                            <option value="2079">2079</option>
                                            <option value="2080">2080</option>
                                            <option value="2081">2081</option>
                                            <option value="2082">2082</option>
                                            <option value="2083">2083</option>
                                            <option value="2084">2084</option>
                                            <option value="2085">2085</option>
                                            <option value="2086">2086</option>
                                            <option value="2087">2087</option>
                                            <option value="2088">2088</option>
                                            <option value="2089">2089</option>
                                            <option value="2090">2090</option>
                                            <option value="2091">2091</option>
                                            <option value="2092">2092</option>
                                            <option value="2093">2093</option>
                                            <option value="2094">2094</option>
                                            <option value="2095">2095</option>
                                            <option value="2096">2096</option>
                                            <option value="2097">2097</option>
                                            <option value="2098">2098</option>
                                            <option value="2099">2099</option>
                                            <option value="2100">2100</option>
                                            <option value="2101">2101</option>
                                            <option value="2102">2102</option>
                                            <option value="2103">2103</option>
                                            <option value="2104">2104</option>
                                            <option value="2105">2105</option>
                                            <option value="2106">2106</option>
                                            <option value="2107">2107</option>
                                            <option value="2108">2108</option>
                                            <option value="2109">2109</option>
                                            <option value="2110">2110</option>
                                            <option value="2111">2111</option>
                                            <option value="2112">2112</option>
                                            <option value="2113">2113</option>
                                            <option value="2114">2114</option>
                                            <option value="2115">2115</option>
                                            <option value="2116">2116</option>
                                            <option value="2117">2117</option>
                                            <option value="2118">2118</option>
                                            <option value="2119">2119</option>
                                            <option value="2120">2120</option>
                                        </select>
                                        <input id="BuildDate" type="text" class="form-control text-center" style="font-size: 0.9em; width: 100px" readonly="readonly" value="@strYear" />
                                        <input id="BuildDate" type="text" class="form-control text-center" style="font-size: 0.9em; width: 100px" readonly="readonly" value="@strPeriodYear" />
                                    </div>
                                </td>

                            </tr>
                            <tr>

                                <td colspan="2">
                                    <span class="bi-card-list" style="font-weight: bold; color: cornflowerblue"> 긴급지출(공사) 근거</span>
                                    <div class="input-group">
                                        <textarea id="Emergency_Basis" style="font-size: 0.9em" placeholder="기타 참고사항 입력하는 곳" @bind="rpn.Emergency_Basis" rows="5" class="form-control"></textarea>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td colspan="2">
                                    <span class="bi-card-list" style="font-weight: bold; color: cornflowerblue"> 소액지출 근거</span>
                                    <div class="input-group">
                                        <textarea id="SmallSum_Basis" style="font-size: 0.9em" placeholder="기타 참고사항 입력하는 곳" @bind="rpn.SmallSum_Basis" rows="5" class="form-control"></textarea>
                                    </div>
                                </td>
                            </tr>
                            <tr>

                                <td colspan="2">
                                    <div class="input-group">
                                        <textarea id="Facility_Etc" style="font-size: 0.9em" placeholder="기타 참고사항 입력하는 곳" @bind="rpn.Repair_Plan_Etc" rows="4" class="form-control"></textarea>
                                    </div>
                                </td>
                            </tr>
                        </table>
                    }


                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary btn-sm" @onclick="btnSave">저장</button> &nbsp; &nbsp; &nbsp;
                    <button type="button" class="btn btn-secondary btn-sm" @onclick="btnClose">닫기</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-backdrop show"></div>
}

@*소액지출 요건 입력*@
@if (InsertViewsA == "B")
{
    <div class="modal fade show d-block" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header" style="background-color: cornflowerblue; color: white">
                    <h5 class="modal-title"><span class="bi-house-door"></span>&nbsp;@strTitleA</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close" @onclick="btnCloseR">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">

                    <table class="table table-sm" width="100%" style="font-size: 0.9em; margin-bottom: 0px">
                        <thead>
                            <tr style="background-color: ghostwhite; border-top-width: 2px; border-top-style:solid; border-top-color: dimgrey">
                                <th class="text-center">
                                    소액지출 요건 내용
                                </th>
                                <th class="text-center">
                                    버 튼
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var st in rsr)
                            {
                                <tr style="background-color: ghostwhite; border-bottom-width: 1px; border-bottom-style:solid; border-bottom-color: dimgrey">
                                    <td style="vertical-align:middle">
                                        @st.SmallSum_Requirement
                                    </td>
                                    <td class="text-center" style="vertical-align:middle" width="80">
                                        @if (In_Being_A(st.SmallSum_Requirement_Code) < 1)
                                        {
                                            <button @onclick="() => OnBySelectR(st)" class="btn btn-link btn-sm">선택</button>
                                        }
                                        else
                                        {
                                            <button @onclick="() => OnByRemoveR(st.SmallSum_Requirement_Code)" class="btn btn-link btn-sm"><span style="color: red">제외</span></button>
                                        }
                                    </td>
                                </tr>
                            }
                        </tbody>
                    </table>

                </div>
                <div class="modal-footer">
                    @*<button type="button" class="btn btn-primary btn-sm" @onclick="btnSaveR">전체 저장</button>*@ &nbsp; &nbsp; &nbsp;
                    <button type="button" class="btn btn-secondary btn-sm" @onclick="btnCloseR">닫기</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-backdrop show"></div>
}

@*소액지출 요건 수정*@
@if (InsertViewsAA == "B")
{
    <div class="modal fade show d-block" tabindex="-1" role="dialog">
        <div class="modal-dialog modal-sm" role="document">
            <div class="modal-content">
                <div class="modal-header" style="background-color: cornflowerblue; color: white">
                    <h5 class="modal-title"><span class="bi-house-door"></span>&nbsp;@strTitleA</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close" @onclick="btnCloseOR">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">

                    <table class="table table-sm" width="100%" style="font-size: 0.9em; margin-bottom: 0px">

                        <tr style="background-color: ghostwhite; border-top-width: 2px; border-top-style:solid; border-top-color: dimgrey">
                            <th class="text-center">
                                소액지출 요건 내용
                            </th>
                        </tr>
                        <tr>
                            <td>
                                <textarea id="Facility_Etc" style="font-size: 0.9em" placeholder="소액지출 대상 수정 내용" @bind="srs.SmallSum_Requirement_Content" rows="4" class="form-control"></textarea>
                            </td>
                        </tr>

                    </table>

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary btn-sm" @onclick="btnSaveOR">수정</button> &nbsp; &nbsp; &nbsp;
                    <button type="button" class="btn btn-secondary btn-sm" @onclick="btnCloseOR">닫기</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-backdrop show"></div>
}

@*소액지출 대상 입력*@
@if (InsertViewsB == "B")
{
    <div class="modal fade show d-block" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header" style="background-color: cornflowerblue; color: white">
                    <h5 class="modal-title"><span class="bi-house-door"></span>&nbsp;@strTitleB</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close" @onclick="btnCloseO">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body" style="height: 600px; overflow-y: scroll">

                    <table class="table table-sm" width="100%" style="font-size: 0.9em; margin-bottom: 0px">
                        <thead>
                            <tr style="background-color: ghostwhite; border-top-width: 2px; border-top-style:solid; border-top-color: dimgrey">
                                <th class="text-center">
                                    소액지출 대상 내용
                                </th>
                                <th class="text-center">
                                    버 튼
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var st in rso)
                            {
                                <tr style="background-color: ghostwhite; border-bottom-width: 1px; border-bottom-style:solid; border-bottom-color: dimgrey">
                                    <td style="vertical-align:middle">
                                        @st.SmallSum_Object
                                    </td>
                                    <td class="text-center" style="vertical-align:middle" width="80">
                                        @if (In_Being_O(st.SmallSum_Object_Code) < 1)
                                        {
                                            <button @onclick="() => OnBySelectO(st)" class="btn btn-link btn-sm">선택</button>
                                        }
                                        else
                                        {
                                            <button @onclick="() => OnByRemoveO(st.SmallSum_Object_Code)" class="btn btn-link btn-sm"><span style="color: red">제외</span></button>
                                        }
                                    </td>
                                </tr>
                            }
                        </tbody>
                    </table>

                </div>
                <div class="modal-footer">
                    @*<button type="button" class="btn btn-primary btn-sm" @onclick="btnSaveR">전체 저장</button>*@ &nbsp; &nbsp; &nbsp;
                    <button type="button" class="btn btn-secondary btn-sm" @onclick="btnCloseO">닫기</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-backdrop show"></div>
}

@*소액지출 대상 수정*@
@if (InsertViewsBB == "B")
{
    <div class="modal fade show d-block" tabindex="-1" role="dialog">
        <div class="modal-dialog modal-sm" role="document">
            <div class="modal-content">
                <div class="modal-header" style="background-color: cornflowerblue; color: white">
                    <h5 class="modal-title"><span class="bi-house-door"></span>&nbsp;@strTitleB</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close" @onclick="btnCloseOB">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">

                    <table class="table table-sm" width="100%" style="font-size: 0.9em; margin-bottom: 0px">

                        <tr style="background-color: ghostwhite; border-top-width: 2px; border-top-style:solid; border-top-color: dimgrey">
                            <th class="text-center">
                                소액지출 대상 내용
                            </th>
                        </tr>
                        <tr>
                            <td>
                                <textarea id="Facility_Etc" style="font-size: 0.9em" placeholder="소액지출 대상 수정 내용" @bind="sos.SmallSum_Object_Content" rows="4" class="form-control"></textarea>
                            </td>
                        </tr>

                    </table>

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary btn-sm" @onclick="btnSaveOB">수정</button> &nbsp; &nbsp; &nbsp;
                    <button type="button" class="btn btn-secondary btn-sm" @onclick="btnCloseOB">닫기</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-backdrop show"></div>
}
